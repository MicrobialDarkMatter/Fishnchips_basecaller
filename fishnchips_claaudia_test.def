Bootstrap: docker
From: ubuntu:18.04

%help
    FishNChips basecaller claaudia test container

%environment
    TZ=Europe/Aalborg

%post
    ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone
    apt-get -qq -y update
    apt-get -y install python3.7
    apt-get -y install python3-pip
    apt-get -y install zlib1g-dev

    pip3 install --upgrade pip
    pip3 install tensorflow==2.3.0
    pip3 install mappy
    pip3 install editdistance
    pip3 install ont-fast5-api
    pip3 install inquirer
    pip3 install h5py

%runscript
    cd ~/FishNChips_g2
    python3 ./run_fishnchips_noprops.py --config ./configs/test_claaudia.json --name claaudia_test_experiment